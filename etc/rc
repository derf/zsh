## vim:ft=zsh
## zshrc
## Daniel Friesel <derf@derf.homelinux.org>
## https://derf.homelinux.org/~derf/dotfiles/zsh/rc
## see also: https://derf.homelinux.org/~derf/dotfiles/zsh/

## mostly internal stuff
uname=$(uname)
alias 'linux:'='[[ $uname = Linux ]] &&'
alias 'non-linux:'='[[ $uname = Linux ]] ||'
alias 'ls-colors:'='which dircolors &> /dev/null &&'
alias 'openbsd:'='[[ $uname = OpenBSD ]] &&'
ret=0

## include the actual config
echo        "options"
source $ZDIR/options
echo        "parameters"
source $ZDIR/parameters
echo        "unicode"
source $ZDIR/unicode
echo        "functions"
source $ZDIR/function
echo        "zle"
source $ZDIR/zle
echo        "colorc"
source $ZDIR/colors
echo        "prompt"
source $ZDIR/prompt
echo        "directories"
source $ZDIR/directories
echo        "keys"
source $ZDIR/keys
echo        "aliases"
source $ZDIR/alias/suffix
source $ZDIR/alias/font
source $ZDIR/alias/default
source $ZDIR/alias/global
source $ZDIR/alias/short
echo                     "includes"
xsource $ZDIR/../provided/includes
echo         "local"
xsource $ZDIR/local
xsource $HOME/var/tmp/envstore-raw-$UID
echo        "completion"
source $ZDIR/completion

## misc
bindkey -e
ls-colors: eval $(dircolors -b $HOME/packages/zsh/etc/dircolors)
mesg n
umask 077

## cleanup
unalias 'linux:'
unalias 'non-linux:'
unalias 'ls-colors:'
unalias 'openbsd:'
unfunction xexport
unfunction xsource
unset uname
(( ret )) || clear
unset ret
