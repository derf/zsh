## vim:ft=zsh

## mostly internal stuff
ZDIR=$HOME/packages/zsh/etc
uname=$(uname)
debian=$([ -f /proc/version ] && fgrep Debian /proc/version)
alias 'linux:'='[ $uname = Linux ] &&'
alias 'non-linux:'='[ $uname = Linux ] ||'
alias 'ls-colors:'='which dircolors &> /dev/null &&'
alias 'openbsd:'='[ $uname = OpenBSD ] &&'
alias 'debian:'='[ -n "$debian" ] &&'

## include the actual config
source $ZDIR/modules
source $ZDIR/variables
source $ZDIR/colors
source $ZDIR/functions
source $ZDIR/options
source $ZDIR/prompt
source $ZDIR/directories
source $ZDIR/alias/suffix
source $ZDIR/alias/font
source $ZDIR/alias/default
source $ZDIR/alias/global
source $ZDIR/alias/short
source $ZDIR/completion

## misc
bindkey -e # EMACS bindings
ls-colors: eval $(dircolors -b $HOME/packages/zsh/etc/dircolors)
trap 'echo zsh: Program terminated with exit status $?' ZERR
mesg n
umask 077

## cleanup
unalias 'linux:'
unalias 'non-linux:'
unalias 'ls-colors:'
unalias 'openbsd:'
unalias 'debian:'
unset uname
