## vim:ft=zsh

## mostly internal stuff
ZDIR=$HOME/packages/zsh/etc
uname=$(uname)
alias 'linux:'='[ $uname = Linux ] &&'
alias 'openbsd:'='[ $uname = OpenBSD ] &&'

## include the actual config
source $ZDIR/modules
source $ZDIR/variables
source $ZDIR/colors
source $ZDIR/functions
source $ZDIR/options
source $ZDIR/prompt
source $ZDIR/directories
source $ZDIR/alias/suffix
source $ZDIR/alias/font
source $ZDIR/alias/default
source $ZDIR/alias/global
source $ZDIR/alias/short
source $ZDIR/completion

## misc
bindkey -e # EMACS bindings
linux: eval $(dircolors -b $HOME/packages/zsh/etc/dircolors)
trap 'echo zsh: Program terminated with exit status $?' ZERR
mesg n
umask 077

## cleanup
unalias 'linux:'
unalias 'openbsd:'
unset uname
